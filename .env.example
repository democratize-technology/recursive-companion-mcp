# Recursive Companion MCP Configuration

# ====== OAuth 2.1 Authentication Configuration ======
# For local development: Leave as "none" (no authentication)
# For production: Set to "oauth21" to enable OAuth 2.1 with Cognito
AUTH_PROVIDER=none

# Your MCP server's public URL (required for OAuth)
# Example: https://recursive-companion.reasoning.services
MCP_SERVER_URL=http://localhost:8080

# Cognito configuration (required if AUTH_PROVIDER=oauth21)
USER_POOL_ID=us-east-1_XXXXXXXXX

# Cognito app client ID (required if AUTH_PROVIDER=oauth21)
# This is the same CLIENT_ID for ALL MCPs connecting to same Cognito pool
OAUTH_AUDIENCE=xxxxxxxxxxxxxxxxxxxxx

# Optional: Override issuer URL (if not using Cognito, or for custom auth servers)
# If not set, issuer is auto-constructed from USER_POOL_ID
# OAUTH_ISSUER_URL=https://your-auth-server.com

# Optional: JWKS cache TTL in seconds (default: 3600)
# Shorter = detect key rotation faster, but more network calls
# OAUTH_JWKS_CACHE_TTL=3600

# Optional: Max JWKS keys to cache (default: 16)
# OAUTH_JWKS_MAX_KEYS=16

# ====== AWS Configuration ======
AWS_REGION=us-east-1
# AWS credentials should be configured via AWS CLI or IAM roles
# AWS_ACCESS_KEY_ID=your-access-key-here
# AWS_SECRET_ACCESS_KEY=your-secret-key-here

# ====== Bedrock Model Configuration ======
BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0
EMBEDDING_MODEL_ID=amazon.titan-embed-text-v1

# ====== Refinement Configuration ======
MAX_ITERATIONS=10
CONVERGENCE_THRESHOLD=0.98
PARALLEL_CRITIQUES=3

# ====== Security Configuration ======
MAX_PROMPT_LENGTH=10000
MIN_PROMPT_LENGTH=10
REQUEST_TIMEOUT=300

# ====== Rate Limiting ======
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_CALLS=10

# ====== Logging Configuration ======
LOG_LEVEL=INFO

# ====== Server Configuration ======
MCP_SERVER_NAME=recursive-companion
